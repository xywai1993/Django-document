# 3.2 模型和数据库

A model is the single, definitive source of data about your data. It contains the essential fields and behaviors of the data you’re storing. Generally, each model maps to a single database table.

模型是唯一的，决定源数据的是你的数据。包含了你要存储数据所必要的字段和行为。通常，每个模型对应一个唯一的数据库表。

## 3.2.1 模型

模型是唯一的，决定源数据的是你的数据。包含了你要存储数据所必要的字段和行为。通常，每个模型对应一个唯一的数据库表。

The basics:

-   Each model is a Python class that subclasses django.db.models.Model.
-   Each attribute of the model represents a database field.
-   With all of this, Django gives you an automatically-generated database-access API; see Making queries.

最基本的：

-   每个模型都是一个 Python 的类， 基于 django.db.models.Model 的子类
-   每个模型的属性代表了数据库的字段
-   基于此，Django 提供给你自动生成的数据库存取 api；[查看 Making queries]()

### 快速例子

This example model defines a Person, which has a first_name and last_name:

这个例子定义了一个 Person，拥有 first_name 和 last_name 属性

```python
from django.db import models

class Person(models.Model):
    first_name = models.CharField(max_length=30)
    last_name = models.CharField(max_length=30)
```

first_name and last_name are fields of the model. Each field is specified as a class attribute, and each attribute maps to a database column.

first_name 和 last_name are 是模型的字段。每个字段都是模型的属性，每个属性对应着数据库里的列。

The above Person model would create a database table like this:

上面的 Person 模型将创建一个数据库表类似如下：

```
CREATE TABLE myapp_person (
    "id" serial NOT NULL PRIMARY KEY,
    "first_name" varchar(30) NOT NULL,
    "last_name" varchar(30) NOT NULL
);
```

Some technical notes:

-   The name of the table, myapp_person, is automatically derived from some model metadata but can be over-
    ridden. See Table names for more details.
-   An id field is added automatically, but this behavior can be overridden. See Automatic primary key fields.
-   The CREATE TABLE SQL in this example is formatted using PostgreSQL syntax, but it’s worth noting Django uses SQL tailored to the database backend specified in your settings file.

技术性笔记：

-   表的名字 “myapp_person”是按照模型的元数据自动生成的，这个名字生成规则可被覆写。详情查看[Table names]()
-   id 字段将被自动添加，这个行为也是可以被覆写的。查看[Automatic primary key fields.]()
-   在这个例子中生成这个表的的 SQL 语法是 PostgreSQL ，值得注意的是 Django 使用的 SQL 是为设置文件中指定的数据库后端定制的。
