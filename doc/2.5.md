# 2.5 编写你第一个 Django 应用，第三部分

该教程开始于教程 2 的结尾。我们继续 web 投票程序，并专注于创建公开的界面——“views”

---

**哪里获取帮助**

如果在阅读本教程遇到困难，请移步常见问题的“获得帮助”部分

---

## 2.5.1 概览

“view” 是你 django 应用程序 web 页面的一种类型，通常是服务一种特定的功能，并且拥有特定的模板。比如，在 blog 程序中，你可能需要有如下视图：

-   博客首页——显示一些最新的博文
-   “详情”页面入口——连接到单个项目的页面
-   以年为单位的归档页——展示选中的年份里各个月份创建的内容
-   以月为单位的归档页——展示选中月份里每天的创建的内容
-   以天为单位的归档页——展示选中天里的创建的内容
-   评论操作——处理给定条目响应评论的操作

在我们的投票程序中，我们需要如下视图：

-   问题首页——显示最新的问题
-   问题详情页——显示问题文案，没有结果，只有投票表单
-   问题结果页——显示某个投票的结果
-   投票操作——处理特定问题特定选项的投票操作

在 django 中，web 页面和其他内容的由 views(视图)提供。每个视图由 python 函数表示（在某些类视图中，由方法去表示）。django 通过检查请求的 url 选择视图（更准确的说，是域名后面的 url 部分）

平常你上网可能会遇到像这样的"漂亮"的 ME2/Sites/dirmod.htm?sid=&type=gen&mod=Core+Pages&gid=A6CD4967199A42D9B65B1B url。不久你就会很开心的知道 django 允许我们写出比这更优雅的 url。

URL 模式是 URL 的一般形式——举个栗子：/newsarchive/<year>/<month>/

为了关联 URL 和 view，Django 使用‘URLconfs’来配置。URLconf 映射 URL 模式 到视图。该教程提供基本的指令来配置 URLconfs，你可与参考 [URL dispatcher]() 来获取更多信息

## Writing more views 编写视图

让我们添加一些视图到 polls/views.py。这些视图稍微有些不同，因为他们有一些参数：

Listing 16: polls/views.py

```python
def detail(request, question_id):
    return HttpResponse("You're looking at question %s." % question_id)

def results(request, question_id):
    response = "You're looking at the results of question %s."
    return HttpResponse(response % question_id)

def vote(request, question_id):
    return HttpResponse("You're voting on question %s." % question_id)
```

通过添加如下的 path()方法把这些新的视图写进 polls.urls 模块

Listing 17: polls/urls.py

```python
from django.urls import path
from . import views

urlpatterns = [
    # ex: /polls/
    path('', views.index, name='index'),
    # ex: /polls/5/
    path('<int:question_id>/', views.detail, name='detail'),
    # ex: /polls/5/results/
    path('<int:question_id>/results/', views.results, name='results'),
    # ex: /polls/5/vote/
    path('<int:question_id>/vote/', views.vote, name='vote'),
]
```

打开你的浏览器输入/polls/34/ 看一看，它将运行 detail()方法，显示你 url 里面的 34 这个 id， 同样试试“/polls/34/results/” 和 “/polls/34/vote/”——他们将显示占位结果页 和投票页面。
