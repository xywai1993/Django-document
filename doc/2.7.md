# 2.6 编写你第一个 Django 应用，第五部分

[官方翻译链接](https://docs.djangoproject.com/zh-hans/3.1/intro/tutorial05/)

This tutorial begins where Tutorial 4 left off. We’ve built a Web-poll application, and we’ll now create some automated tests for it.

该教程开始于教程第四部分的结尾。我们创建了一个 Web-poll 应用程序，我们现在将为它创建一些自动化测试。

---

**哪里获取帮助**

如果在阅读本教程遇到困难，请移步常见问题的[“获得帮助”]()部分

---

## 介绍自动化测试

**What are automated tests?**

**什么是自动化测试？**

Tests are routines that check the operation of your code.

测试是检查你代码能否运行的程序。

Testing operates at different levels. Some tests might apply to a tiny detail (does a particular model method return values as expected?) while others examine the overall operation of the software (does a sequence of user inputs on the site produce the desired result?). That’s no different from the kind of testing you did earlier in Tutorial 2, using the shell to examine the behavior of a method, or running the application and entering data to check how it behaves.

测试操作有不同的等级。某些测试只关注很小的细节（例如一个特定模型的方法返回值是否符合预期？），某些只检查软件的总体能否运行（例如用户在网站的一系列输入能否产生预期的结果？）。这与你早期在教程 2 中做的那种测试没有什么不同，例如使用 shell 检查方法的行为，运行程序输入数据检查运行效果。

What’s different in automated tests is that the testing work is done for you by the system. You create a set of tests once, and then as you make changes to your app, you can check that your code still works as you originally intended, without having to perform time consuming manual testing.

自动化测试不同是系统会为你完成测试工作。当你创建了一组测试，更改你的 APP 后，可以检查你的代码是否按照最初的预期去工作，不必执行耗时的手动测试

### 为什么你需要创建测试？

So why create tests, and why now?

所以为什么创建测试，为什么现在就要？

You may feel that you have quite enough on your plate just learning Python/Django, and having yet another thing to learn and do may seem overwhelming and perhaps unnecessary. After all, our polls application is working quite happily now; going through the trouble of creating automated tests is not going to make it work any better. If creating the polls application is the last bit of Django programming you will ever do, then true, you don’t need to know how to create automated tests. But, if that’s not the case, now is an excellent time to learn.

你可能感觉你学习 Python/Django 已经足够了，再学一些新东西的话看起来有点负担过重并且没什么必要。毕竟，我们的投票程序已经工作的相当完美，创建麻烦的自动测试也不会使它工作的更好。如果用 Django 程序创建一个投票 APP 就是你唯一想做的，那么这很正确，你不需要知道如何创建自动化测试。但是，如果你不仅限于此，现在就是最好的学习时机。

### 测试将节省你的时间

Up to a certain point, ‘checking that it seems to work’ will be a satisfactory test. In a more sophisticated application, you might have dozens of complex interactions between components.

在某种程度上，“检查它是否有效”将是一个令人满意的测试。在许多复杂的应用程序中，你可能会在组件之间进行许多复杂的交互。

A change in any of those components could have unexpected consequences on the application’s behavior. Checking that it still ‘seems to work’ could mean running through your code’s functionality with twenty different variations of your test data to make sure you haven’t broken something - not a good use of your time.

对组件的任何更改都可能会对应用程序的行为产生意外的结果。检查它“是否在工作”意味着通过运行多种不同的测试数据来测试你代码的功能，以确保没有破坏某些东西——这有点浪费你的时间。

That’s especially true when automated tests could do this for you in seconds. If something’s gone wrong, tests will also assist in identifying the code that’s causing the unexpected behavior.

尤其是当自动测试能为你在几秒钟内做完这些。假如某些代码出错，测试也可以辅助你识别代码的异常行为。

Sometimes it may seem a chore to tear yourself away from your productive, creative programming work to face the unglamorous and unexciting business of writing tests, particularly when you know your code is working properly.

有时候，将自己从高效的，富有创造力的编程工作中解放出来，以面对编写测试的平淡无奇，繁琐的工作似乎很麻烦，尤其是当您知道代码工作正常时。

However, the task of writing tests is a lot more fulfilling than spending hours testing your application manually or trying to identify the cause of a newly-introduced problem.

然而，编写测试远比发费大量的时间手动测试程序或者试图弄清新引进问题发生的原因要有意义的多。

### 测试不仅仅是为了确认 bug，而是为了防止 bug

It’s a mistake to think of tests merely as a negative aspect of development.

测试仅仅是开发的对立面，这个思想是错误的。

Without tests, the purpose or intended behavior of an application might be rather opaque. Even when it’s your own code, you will sometimes find yourself poking around in it trying to find out what exactly it’s doing.

没有测试，应用程序的目的或者说预期行为是不明确的，即是是你自己的代码，有时你也会发现自己根本不知道它到底在做什么。

Tests change that; they light up your code from the inside, and when something goes wrong, they focus light on the part that has gone wrong - even if you hadn’t even realized it had gone wrong.

测试改变了这种情况，它们从内部检查你的代码，当发生一些错误时，它们将聚焦错误的部分——尽管你都没有意识到那里会有错误。
